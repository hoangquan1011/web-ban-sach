<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n l√Ω s·∫£n ph·∫©m - Th·ª©c Store</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/admin-shared.css">

   <style>
    body {
      background-color: #f3f8f3;
      font-family: "Open Sans", sans-serif;
    }

    /* ===================== CONTENT ===================== */
    .content-area {
      background: #fff;
      border-radius: 1rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
      padding: 0;
      min-height: 75vh;
    }

    .card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: none;
      margin-bottom: 20px;
    }

    .card-header {
      background: white;
      border-bottom: 2px solid #e9ecef;
      padding: 20px;
      border-radius: 10px 10px 0 0 !important;
    }

    .card-title {
      color: #2d6a4f;
      font-weight: bold;
      font-size: 1.2rem;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Form th√™m s·∫£n ph·∫©m */
    .form-label {
      font-weight: 600;
      color: #495057;
      margin-bottom: 8px;
    }

    .form-control, .form-select, textarea {
      border-radius: 8px;
      border: 1px solid #ced4da;
      padding: 10px 14px;
    }

    .form-control:focus, .form-select:focus, textarea:focus {
      border-color: #2d6a4f;
      box-shadow: 0 0 0 0.2rem rgba(45, 106, 79, 0.15);
    }

    /* ‚úÖ Checkbox th·ªÉ lo·∫°i - style ƒë·ªìng nh·∫•t */
    .category-checkboxes {
      padding: 12px 15px;
      background: #ffffff;
      border-radius: 8px;
      border: 1px solid #ced4da;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }

    .form-check-inline {
      margin: 0;
      padding: 8px 12px;
      background: #f8f9fa;
      border-radius: 6px;
      transition: all 0.3s;
    }

    .form-check-inline:hover {
      background: #e9ecef;
    }

    .form-check-input {
      cursor: pointer;
      margin-top: 0.2em;
    }

    .form-check-input:checked {
      background-color: #2d6a4f;
      border-color: #2d6a4f;
    }

    .form-check-label {
      cursor: pointer;
      user-select: none;
      font-weight: 500;
      color: #495057;
      margin-left: 6px;
    }

    .btn-add-product {
      background: #2d6a4f;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s;
      width: 100%;
    }

    .btn-add-product:hover {
      background: #1b4332;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(45, 106, 79, 0.3);
    }

    /* Filters */
    .filter-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    /* Product Grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      padding: 20px;
    }

    .product-card {
      background: white;
      border: 1px solid #e9ecef;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    .product-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      cursor: pointer;
      flex-shrink: 0;
    }

    .product-card-body {
      padding: 15px;
      cursor: pointer;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .product-name {
      font-weight: 600;
      font-size: 0.95rem;
      color: #212529;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .product-meta {
      font-size: 0.8rem;
      color: #6c757d;
      margin-bottom: 8px;
    }

    .product-price {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .price-current {
      font-weight: 700;
      color: #dc3545;
      font-size: 1.1rem;
    }

    .price-original {
      text-decoration: line-through;
      color: #6c757d;
      font-size: 0.9rem;
    }

    .discount-badge {
      background: #dc3545;
      color: white;
      padding: 3px 8px;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .product-status {
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 10px;
      margin-top: auto;
    }

    .status-visible { color: #28a745; }
    .status-hidden { color: #dc3545; }

    .product-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      padding: 0 15px 15px 15px;
    }

    .btn-action {
      padding: 8px 10px;
      border: none;
      border-radius: 6px;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
    }

    .btn-edit {
      background: #4c6b5f;
      color: white;
    }

    .btn-edit:hover {
      background: #3a5447;
    }

    .btn-toggle {
      background: #404A3D;
      color: white;
    }

    .btn-toggle:hover {
      background: #2e352a;
    }

    .btn-delete {
      background: #dc3545;
      color: white;
    }

    .btn-delete:hover {
      background: #c82333;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1050;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      overflow: auto;
    }

    .modal-content {
      background: white;
      margin: 3% auto;
      padding: 0;
      border-radius: 12px;
      width: 600px;
      max-width: 95%;
      max-height: 90vh;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }

    .modal-header {
      background: #2d6a4f;
      color: white;
      padding: 20px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      margin: 0;
      font-size: 1.3rem;
    }

    .modal-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.8rem;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s;
    }

    .modal-close:hover {
      background: rgba(255,255,255,0.2);
    }

    .modal-body {
      padding: 25px;
      max-height: calc(90vh - 140px);
      overflow-y: auto;
    }

    .modal-body::-webkit-scrollbar {
      width: 8px;
    }

    .modal-body::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 4px;
    }

    .modal-footer {
      padding: 20px 25px;
      border-top: 1px solid #e9ecef;
      display: flex;
      gap: 10px;
      background: #f8f9fa;
    }

    .btn-modal-save {
      flex: 1;
      background: #2d6a4f;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-modal-save:hover {
      background: #1b4332;
    }

    .btn-modal-cancel {
      flex: 1;
      background: #6c757d;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-modal-cancel:hover {
      background: #5a6268;
    }

    #editPreview {
      max-width: 150px;
      margin-top: 10px;
      border-radius: 8px;
      border: 2px solid #e9ecef;
    }

    @media (max-width: 768px) {
      .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        padding: 15px;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid py-4">
    <!-- Banner -->
    <div class="admin-banner">
      <h1><i class="fas fa-book"></i> Th·ª©c Store Admin</h1>
      <p>Qu·∫£n l√Ω S·∫£n ph·∫©m</p>
    </div>

    <div class="row">
      <!-- Sidebar -->
      <div class="col-lg-3 mb-4">
        <div class="sidebar">
          <h5>üìã Menu qu·∫£n l√Ω</h5>
          <a href="quanlysanpham.html" class="menu-item active"><span class="emoji">üìò</span> Qu·∫£n l√Ω S·∫£n ph·∫©m</a>
          <a href="quanlydonhang.html" class="menu-item"><span class="emoji">üßæ</span> Qu·∫£n l√Ω ƒê∆°n h√†ng</a>
          <a href="user.html" class="menu-item"><span class="emoji">üë§</span> Qu·∫£n l√Ω Ng∆∞·ªùi d√πng</a>
          <a href="stock.html" class="menu-item"><span class="emoji">üì¶</span> Qu·∫£n l√Ω Kho</a>
          <a href="pricing.html" class="menu-item"><span class="emoji">üí≤</span> Qu·∫£n l√Ω Gi√°</a>
          <a href="import.html" class="menu-item"><span class="emoji">üöö</span> Nh·∫≠p h√†ng</a>
        </div>
      </div>
      
      <!-- Content -->
      <div class="col-lg-9">
        <div class="content-area">
          <!-- Card Th√™m s·∫£n ph·∫©m -->
          <div class="card">
            <div class="card-header">
              <h5 class="card-title"><i class="fas fa-plus-circle"></i> Th√™m s·∫£n ph·∫©m m·ªõi</h5>
            </div>
            <div class="card-body p-4">
              <form>
                <div class="row g-3">
                  <!-- Th·ªÉ lo·∫°i - Checkbox -->
                  <div class="col-md-12">
                    <label class="form-label">Th·ªÉ lo·∫°i <span class="text-danger">*</span></label>
                    <div class="category-checkboxes">
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="cat1" value="VƒÉn h·ªçc">
                        <label class="form-check-label" for="cat1">VƒÉn h·ªçc</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="cat2" value="Kinh t·∫ø">
                        <label class="form-check-label" for="cat2">Kinh t·∫ø</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="cat3" value="K·ªπ nƒÉng s·ªëng">
                        <label class="form-check-label" for="cat3">K·ªπ nƒÉng s·ªëng</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="cat4" value="Thi·∫øu nhi">
                        <label class="form-check-label" for="cat4">Thi·∫øu nhi</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="cat5" value="Gi√°o khoa">
                        <label class="form-check-label" for="cat5">Gi√°o khoa</label>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <label class="form-label">M√£ s·∫£n ph·∫©m</label>
                    <input type="text" class="form-control" placeholder="VD: KN001">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label">T√™n s√°ch</label>
                    <input type="text" class="form-control" placeholder="Nh·∫≠p t√™n s√°ch">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">T√°c gi·∫£</label>
                    <input type="text" class="form-control" placeholder="Nh·∫≠p t√™n t√°c gi·∫£">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Nh√† xu·∫•t b·∫£n</label>
                    <input type="text" class="form-control" placeholder="Nh·∫≠p NXB">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">NƒÉm xu·∫•t b·∫£n</label>
                    <input type="text" class="form-control" placeholder="VD: 2024">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">B√¨a s√°ch</label>
                    <input type="file" class="form-control" accept="image/*">
                  </div>
                  <div class="col-md-12">
                    <label class="form-label">M√¥ t·∫£</label>
                    <textarea class="form-control" rows="3" placeholder="Nh·∫≠p m√¥ t·∫£ s·∫£n ph·∫©m"></textarea>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Gi√° b√°n</label>
                    <input type="number" class="form-control" placeholder="VD: 85000">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label">Gi√° g·ªëc</label>
                    <input type="number" class="form-control" placeholder="VD: 120000">
                  </div>
                </div>
                <button type="submit" class="btn-add-product mt-3">
                  <i class="fas fa-plus"></i> Th√™m s·∫£n ph·∫©m
                </button>
              </form>
            </div>
          </div>

          <!-- Card Danh s√°ch s·∫£n ph·∫©m -->
          <div class="card">
            <div class="card-header">
              <h5 class="card-title"><i class="fas fa-list"></i> Danh s√°ch s·∫£n ph·∫©m</h5>
            </div>
            <div class="card-body">
              <!-- Filters -->
              <div class="filter-section">
                <div class="row g-3 align-items-end">
                  <div class="col-md-5">
                    <label class="form-label fw-semibold" for="productSearchInput">T√¨m ki·∫øm</label>
                    <input type="text" id="productSearchInput" class="form-control" placeholder="üîç T√™n s√°ch ho·∫∑c m√£ s·∫£n ph·∫©m...">
                  </div>
                  <div class="col-md-3">
                    <label class="form-label fw-semibold" for="productCategorySelect">Th·ªÉ lo·∫°i</label>
                    <select id="productCategorySelect" class="form-select">
                      <option value="">-- T·∫•t c·∫£ lo·∫°i --</option>
                      <option value="VƒÉn h·ªçc">VƒÉn h·ªçc</option>
                      <option value="Kinh t·∫ø">Kinh t·∫ø</option>
                      <option value="K·ªπ nƒÉng s·ªëng">K·ªπ nƒÉng s·ªëng</option>
                      <option value="Thi·∫øu nhi">Thi·∫øu nhi</option>
                      <option value="Gi√°o khoa">Gi√°o khoa</option>
                    </select>
                  </div>
              
                </div>
                <div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mt-3">
                  <div id="productResultSummary" class="fw-semibold text-success">ƒêang t·∫£i d·ªØ li·ªáu...</div>
                  <button id="productFilterReset" class="btn btn-outline-secondary btn-sm">
                    <i class="fa fa-redo me-1"></i>ƒê·∫∑t l·∫°i b·ªô l·ªçc
                  </button>
                </div>
              </div>

              <div id="productEmptyNotice" class="alert alert-warning d-none">
                Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p v·ªõi b·ªô l·ªçc hi·ªán t·∫°i.
              </div>

              <!-- Product Grid -->
              <div id="adminProductGrid" class="product-grid">
                <!-- Product 1 -->
                <div class="product-card"
                  data-product-code="KN001"
                  data-product-name="GOOD ENERGY - NƒÇNG L∆Ø·ª¢NG T·ªêT"
                  data-product-category="K·ªπ nƒÉng s·ªëng"
                  data-product-price="85000">
                  <a href="chitiet.html?ma=KN001"><img src="../img/38.jpg" alt="GOOD ENERGY - NƒÇNG L∆Ø·ª¢NG T·ªêT"></a>
                  <a href="chitiet.html?ma=KN001" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">GOOD ENERGY - NƒÇNG L∆Ø·ª¢NG T·ªêT</div>
                      <div class="product-meta">Lo·∫°i: K·ªπ nƒÉng s·ªëng | M√£: KN001</div>
                      <div class="product-price">
                        <span class="price-current">85.000ƒë</span>
                        <span class="price-original">120.000ƒë</span>
                      </div>
                      <div class="discount-badge">-29%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card"
                  data-product-code="KN002"
                  data-product-name="NGH·ªÜ THU·∫¨T T∆Ø DUY LOGIC"
                  data-product-category="K·ªπ nƒÉng s·ªëng"
                  data-product-price="126000">
                  <a href="chitiet.html?ma=KN002"><img src="../img/33.jpg" alt="NGH·ªÜ THU·∫¨T T∆Ø DUY LOGIC"></a>
                  <a href="chitiet.html?ma=KN002" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">NGH·ªÜ THU·∫¨T T∆Ø DUY LOGIC</div>
                      <div class="product-meta">Lo·∫°i: K·ªπ nƒÉng s·ªëng | M√£: KN002</div>
                      <div class="product-price">
                        <span class="price-current">126.000ƒë</span>
                        <span class="price-original">169.000ƒë</span>
                      </div>
                      <div class="discount-badge">-25%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card"
                  data-product-code="KN003"
                  data-product-name="K·ª∏ NƒÇNG T∆Ø DUY TH·ª∞C CHI·∫æN"
                  data-product-category="K·ªπ nƒÉng s·ªëng"
                  data-product-price="126000">
                  <a href="chitiet.html?ma=KN003"><img src="../img/34.jpg" alt="K·ª∏ NƒÇNG T∆Ø DUY TH·ª∞C CHI·∫æN"></a>
                  <a href="chitiet.html?ma=KN003" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">K·ª∏ NƒÇNG T∆Ø DUY TH·ª∞C CHI·∫æN</div>
                      <div class="product-meta">Lo·∫°i: K·ªπ nƒÉng s·ªëng | M√£: KN003</div>
                      <div class="product-price">
                        <span class="price-current">126.000ƒë</span>
                        <span class="price-original">169.000ƒë</span>
                      </div>
                      <div class="discount-badge">-25%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card"
                  data-product-code="TN001"
                  data-product-name="THI√äN NHI√äN - T·∫†I SAO CH√öNG TA C·∫¶N THI√äN NHI√äN XANH T∆Ø∆†I?"
                  data-product-category="Thi·∫øu nhi"
                  data-product-price="52000">
                  <a href="chitiet.html?ma=TN001"><img src="../img/23.jpg" alt="THI√äN NHI√äN"></a>
                  <a href="chitiet.html?ma=TN001" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">THI√äN NHI√äN - T·∫†I SAO CH√öNG TA C·∫¶N THI√äN NHI√äN XANH T∆Ø∆†I?</div>
                      <div class="product-meta">Lo·∫°i: Thi·∫øu nhi | M√£: TN001</div>
                      <div class="product-price">
                        <span class="price-current">52.000ƒë</span>
                        <span class="price-original">70.000ƒë</span>
                      </div>
                      <div class="discount-badge">-26%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 5 -->
                <div class="product-card"
                  data-product-code="TN002"
                  data-product-name="G·ª¢I M·ªû TR√ç T∆Ø·ªûNG T∆Ø·ª¢NG - N·ªñI BU·ªíN C·ª¶A C√ÇY √çCH K·ª∂"
                  data-product-category="Thi·∫øu nhi"
                  data-product-price="28000">
                  <a href="chitiet.html?ma=TN002"><img src="../img/24.jpg" alt="G·ª¢I M·ªû TR√ç T∆Ø·ªûNG T∆Ø·ª¢NG"></a>
                  <a href="chitiet.html?ma=TN002" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">G·ª¢I M·ªû TR√ç T∆Ø·ªûNG T∆Ø·ª¢NG - N·ªñI BU·ªíN C·ª¶A C√ÇY √çCH K·ª∂</div>
                      <div class="product-meta">Lo·∫°i: Thi·∫øu nhi | M√£: TN002</div>
                      <div class="product-price">
                        <span class="price-current">28.000ƒë</span>
                        <span class="price-original">35.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 6 -->
                <div class="product-card"
                  data-product-code="TN003"
                  data-product-name="R√àN TR√ç TH√îNG MINH - T·∫¨P 3"
                  data-product-category="Thi·∫øu nhi"
                  data-product-price="24000">
                  <a href="chitiet.html?ma=TN003"><img src="../img/25.jpg" alt="R√àN TR√ç TH√îNG MINH"></a>
                  <a href="chitiet.html?ma=TN003" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">R√àN TR√ç TH√îNG MINH - T·∫¨P 3</div>
                      <div class="product-meta">Lo·∫°i: Thi·∫øu nhi | M√£: TN003</div>
                      <div class="product-price">
                        <span class="price-current">24.000ƒë</span>
                        <span class="price-original">30.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 7 -->
                <div class="product-card"
                  data-product-code="VN001"
                  data-product-name="RU·ªíI TR√ÇU (T√ÅI B·∫¢N NƒÇM 2018)"
                  data-product-category="VƒÉn h·ªçc"
                  data-product-price="96000">
                  <a href="chitiet.html?ma=VN001"><img src="../img/26.jpg" alt="RU·ªíI TR√ÇU"></a>
                  <a href="chitiet.html?ma=VN001" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">RU·ªíI TR√ÇU (T√ÅI B·∫¢N NƒÇM 2018)</div>
                      <div class="product-meta">Lo·∫°i: VƒÉn h·ªçc | M√£: VN001</div>
                      <div class="product-price">
                        <span class="price-current">96.000ƒë</span>
                        <span class="price-original">128.000ƒë</span>
                      </div>
                      <div class="discount-badge">-25%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 8 -->
                <div class="product-card"
                  data-product-code="VH002"
                  data-product-name="VƒÇN H·ªåC KINH ƒêI·ªÇN - L·ªÄ TH√ìI TH·ªä TH√ÄNH"
                  data-product-category="VƒÉn h·ªçc"
                  data-product-price="164000">
                  <a href="chitiet.html?ma=VH002"><img src="../img/27.jpg" alt="L·ªÄ TH√ìI TH·ªä TH√ÄNH"></a>
                  <a href="chitiet.html?ma=VH002" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">VƒÇN H·ªåC KINH ƒêI·ªÇN - L·ªÄ TH√ìI TH·ªä TH√ÄNH</div>
                      <div class="product-meta">Lo·∫°i: VƒÉn h·ªçc | M√£: VH002</div>
                      <div class="product-price">
                        <span class="price-current">164.000ƒë</span>
                        <span class="price-original">205.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 9 -->
                <div class="product-card"
                  data-product-code="VH003"
                  data-product-name="VƒÇN H·ªåC KINH ƒêI·ªÇN - CH√ÇN DUNG M·ªòT CU·ªòC H√îN NH√ÇN"
                  data-product-category="VƒÉn h·ªçc"
                  data-product-price="215000">
                  <a href="chitiet.html?ma=VH003"><img src="../img/28.jpg" alt="CH√ÇN DUNG M·ªòT CU·ªòC H√îN NH√ÇN"></a>
                  <a href="chitiet.html?ma=VH003" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">VƒÇN H·ªåC KINH ƒêI·ªÇN - CH√ÇN DUNG M·ªòT CU·ªòC H√îN NH√ÇN</div>
                      <div class="product-meta">Lo·∫°i: VƒÉn h·ªçc | M√£: VH003</div>
                      <div class="product-price">
                        <span class="price-current">215.000ƒë</span>
                        <span class="price-original">225.000ƒë</span>
                      </div>
                      <div class="discount-badge">-4%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 10 -->
                <div class="product-card"
                  data-product-code="KT001"
                  data-product-name="THE LITTLE BOOK - ƒê·∫¶U T∆Ø THEO CHI·∫æN L∆Ø·ª¢C PH√íNG TH·ª¶"
                  data-product-category="Kinh t·∫ø"
                  data-product-price="134000">
                  <a href="chitiet.html?ma=KT001"><img src="../img/29.jpg" alt="ƒê·∫¶U T∆Ø THEO CHI·∫æN L∆Ø·ª¢C PH√íNG TH·ª¶"></a>
                  <a href="chitiet.html?ma=KT001" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">THE LITTLE BOOK - ƒê·∫¶U T∆Ø THEO CHI·∫æN L∆Ø·ª¢C PH√íNG TH·ª¶</div>
                      <div class="product-meta">Lo·∫°i: Kinh t·∫ø | M√£: KT001</div>
                      <div class="product-price">
                        <span class="price-current">134.000ƒë</span>
                        <span class="price-original">179.500ƒë</span>
                      </div>
                      <div class="discount-badge">-25%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 11 -->
                <div class="product-card"
                  data-product-code="KT002"
                  data-product-name="T∆Ø DUY ƒê·∫¶U T∆Ø - TI·ªÄN ƒê·∫∫ RA TI·ªÄN"
                  data-product-category="Kinh t·∫ø"
                  data-product-price="203000">
                  <a href="chitiet.html?ma=KT002"><img src="../img/30.jpg" alt="T∆Ø DUY ƒê·∫¶U T∆Ø"></a>
                  <a href="chitiet.html?ma=KT002" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">T∆Ø DUY ƒê·∫¶U T∆Ø - TI·ªÄN ƒê·∫∫ RA TI·ªÄN</div>
                      <div class="product-meta">Lo·∫°i: Kinh t·∫ø | M√£: KT002</div>
                      <div class="product-price">
                        <span class="price-current">203.000ƒë</span>
                        <span class="price-original">239.000ƒë</span>
                      </div>
                      <div class="discount-badge">-15%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 12 -->
                <div class="product-card"
                  data-product-code="KT003"
                  data-product-name="TI·ªÄN ƒê·∫∫ RA TI·ªÄN - ƒê·∫¶U T∆Ø T√ÄI CH√çNH TH√îNG MINH"
                  data-product-category="Kinh t·∫ø"
                  data-product-price="128000">
                  <a href="chitiet.html?ma=KT003"><img src="../img/31.jpg" alt="TI·ªÄN ƒê·∫∫ RA TI·ªÄN"></a>
                  <a href="chitiet.html?ma=KT003" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">TI·ªÄN ƒê·∫∫ RA TI·ªÄN - ƒê·∫¶U T∆Ø T√ÄI CH√çNH TH√îNG MINH</div>
                      <div class="product-meta">Lo·∫°i: Kinh t·∫ø | M√£: KT003</div>
                      <div class="product-price">
                        <span class="price-current">128.000ƒë</span>
                        <span class="price-original">160.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 13 -->
                <div class="product-card"
                  data-product-code="GK001"
                  data-product-name="TUY·ªÇN T·∫¨P B√ÄI VƒÇN NGH·ªä LU·∫¨N X√É H·ªòI CHON L·ªåC"
                  data-product-category="Gi√°o khoa"
                  data-product-price="90000">
                  <a href="chitiet.html?ma=GK001"><img src="../img/35.jpg" alt="TUY·ªÇN T·∫¨P B√ÄI VƒÇN NGH·ªä LU·∫¨N"></a>
                  <a href="chitiet.html?ma=GK001" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">TUY·ªÇN T·∫¨P B√ÄI VƒÇN NGH·ªä LU·∫¨N X√É H·ªòI CHON L·ªåC</div>
                      <div class="product-meta">Lo·∫°i: Gi√°o khoa | M√£: GK001</div>
                      <div class="product-price">
                        <span class="price-current">90.000ƒë</span>
                        <span class="price-original">120.000ƒë</span>
                      </div>
                      <div class="discount-badge">-25%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 14 -->
                <div class="product-card"
                  data-product-code="GK002"
                  data-product-name="LUY·ªÜN THI V√ÄO 10 NG·ªÆ VƒÇN - CHINH PH·ª§C B√ÄI NGH·ªä LU·∫¨N"
                  data-product-category="Gi√°o khoa"
                  data-product-price="71500">
                  <a href="chitiet.html?ma=GK002"><img src="../img/36.jpg" alt="LUY·ªÜN THI V√ÄO 10 NG·ªÆ VƒÇN"></a>
                  <a href="chitiet.html?ma=GK002" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">LUY·ªÜN THI V√ÄO 10 NG·ªÆ VƒÇN - CHINH PH·ª§C B√ÄI NGH·ªä LU·∫¨N</div>
                      <div class="product-meta">Lo·∫°i: Gi√°o khoa | M√£: GK002</div>
                      <div class="product-price">
                        <span class="price-current">71.500ƒë</span>
                        <span class="price-original">89.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

                <!-- Product 15 -->
                <div class="product-card"
                  data-product-code="GK003"
                  data-product-name="TAKENOTE NG·ªÆ PH√ÅP TR·ªåNG ƒêI·ªÇM TI·∫æNG ANH TRUNG H·ªåC C∆† S·ªû"
                  data-product-category="Gi√°o khoa"
                  data-product-price="71200">
                  <a href="chitiet.html?ma=GK003"><img src="../img/37.jpg" alt="TAKENOTE NG·ªÆ PH√ÅP"></a>
                  <a href="chitiet.html?ma=GK003" style="text-decoration: none; color: inherit;">
                    <div class="product-card-body">
                      <div class="product-name">TAKENOTE NG·ªÆ PH√ÅP TR·ªåNG ƒêI·ªÇM TI·∫æNG ANH TRUNG H·ªåC C∆† S·ªû</div>
                      <div class="product-meta">Lo·∫°i: Gi√°o khoa | M√£: GK003</div>
                      <div class="product-price">
                        <span class="price-current">71.200ƒë</span>
                        <span class="price-original">89.000ƒë</span>
                      </div>
                      <div class="discount-badge">-20%</div>
                      <div class="product-status status-visible">ƒêang hi·ªÉn th·ªã</div>
                    </div>
                  </a>
                  <div class="product-actions">
                    <button class="btn-action btn-edit">S·ª≠a</button>
                    <button class="btn-action btn-toggle">·∫®n</button>
                    <button class="btn-action btn-delete">X√≥a</button>
                  </div>
                </div>

              </div>

              <nav class="mt-4">
                <ul id="productPagination" class="pagination justify-content-center mb-0"></ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const grid = document.getElementById('adminProductGrid');
      if (!grid) return;

      const searchInput = document.getElementById('productSearchInput');
      const categorySelect = document.getElementById('productCategorySelect');
      const priceSelect = document.getElementById('productPriceSelect');
      const resetBtn = document.getElementById('productFilterReset');
      const summaryEl = document.getElementById('productResultSummary');
      const emptyNotice = document.getElementById('productEmptyNotice');
      const paginationEl = document.getElementById('productPagination');

      const productsPerPage = 8;
      let currentPage = 1;

      const priceRanges = {
        'duoi100': { min: 0, max: 100000 },
        '100-200': { min: 100000, max: 200000 },
        'tren200': { min: 200000, max: null }
      };

      const removeAccents = (str = '') =>
        str
          .toString()
          .normalize('NFD')
          .replace(/[\u0300-\u036f]/g, '')
          .replace(/ƒë/g, 'd')
          .replace(/ƒê/g, 'D');

      const normalizeText = (value) => removeAccents((value || '').toLowerCase().trim());

      const products = Array.from(grid.querySelectorAll('.product-card')).map((card) => {
        const code = card.dataset.productCode || '';
        const name = card.dataset.productName || '';
        return {
          element: card,
          code,
          name,
          category: card.dataset.productCategory || 'Kh√°c',
          price: Number(card.dataset.productPrice || 0),
          searchable: normalizeText(`${code} ${name}`)
        };
      });

      let filteredProducts = [...products];

      const setCardVisibility = (card, visible) => {
        card.element.classList.toggle('d-none', !visible);
      };

      const updateSummary = () => {
        if (!summaryEl) return;
        const total = products.length;
        const visible = filteredProducts.length;
        const display = total && visible !== total ? `${visible}/${total}` : visible;
        summaryEl.textContent = `ƒêang hi·ªÉn th·ªã ${display} s·∫£n ph·∫©m`;
      };

      const toggleEmptyNotice = () => {
        if (!emptyNotice) return;
        emptyNotice.classList.toggle('d-none', Boolean(filteredProducts.length));
      };

      const renderPagination = (totalPages) => {
        if (!paginationEl) return;
        if (!filteredProducts.length || totalPages <= 1) {
          paginationEl.innerHTML = '';
          return;
        }

        let html = `
          <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
            <a class="page-link" href="#" data-page="${currentPage - 1}">Tr∆∞·ªõc</a>
          </li>
        `;

        for (let i = 1; i <= totalPages; i++) {
          html += `
            <li class="page-item ${i === currentPage ? 'active' : ''}">
              <a class="page-link" href="#" data-page="${i}">${i}</a>
            </li>
          `;
        }

        html += `
          <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
            <a class="page-link" href="#" data-page="${currentPage + 1}">Sau</a>
          </li>
        `;

        paginationEl.innerHTML = html;
        paginationEl.querySelectorAll('a[data-page]').forEach((link) => {
          link.addEventListener('click', (event) => {
            event.preventDefault();
            const page = Number(link.dataset.page);
            if (Number.isFinite(page)) {
              goToPage(page);
            }
          });
        });
      };

      const renderPage = () => {
        const totalPages = Math.ceil(filteredProducts.length / productsPerPage) || 1;
        products.forEach((product) => setCardVisibility(product, false));

        if (!filteredProducts.length) {
          renderPagination(0);
          return;
        }

        if (currentPage > totalPages) {
          currentPage = totalPages;
        }

        const start = (currentPage - 1) * productsPerPage;
        const end = start + productsPerPage;
        filteredProducts.slice(start, end).forEach((product) => setCardVisibility(product, true));

        renderPagination(totalPages);
      };

      const goToPage = (page) => {
        if (!filteredProducts.length) return;
        const totalPages = Math.ceil(filteredProducts.length / productsPerPage) || 1;
        if (page < 1) page = 1;
        if (page > totalPages) page = totalPages;
        currentPage = page;
        renderPage();
        grid.scrollIntoView({ behavior: 'smooth' });
      };

      const applyFilters = () => {
        const searchTerm = normalizeText(searchInput?.value);
        const selectedCategory = categorySelect?.value || '';
        const priceRange = priceRanges[priceSelect?.value] || null;
        const min = priceRange?.min ?? null;
        const max = priceRange?.max ?? null;

        filteredProducts = products.filter((product) => {
          const matchesSearch = !searchTerm || product.searchable.includes(searchTerm);
          const matchesCategory = !selectedCategory || product.category === selectedCategory;
          const matchesMin = min === null || product.price >= min;
          const matchesMax = max === null || product.price <= max;
          return matchesSearch && matchesCategory && matchesMin && matchesMax;
        });

        currentPage = 1;
        updateSummary();
        toggleEmptyNotice();
        renderPage();
      };

      searchInput?.addEventListener('input', applyFilters);
      categorySelect?.addEventListener('change', applyFilters);
      priceSelect?.addEventListener('change', applyFilters);
      resetBtn?.addEventListener('click', () => {
        if (searchInput) searchInput.value = '';
        if (categorySelect) categorySelect.value = '';
        if (priceSelect) priceSelect.value = '';
        applyFilters();
      });

      updateSummary();
      toggleEmptyNotice();
      renderPage();
      applyFilters();
    });
  </script>
  
  <!-- Modal S·ª≠a S·∫£n Ph·∫©m -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-edit"></i> Ch·ªânh s·ª≠a s·∫£n ph·∫©m</h3>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="editForm">
          <div class="row g-3">
            <!-- Th·ªÉ lo·∫°i -->
            <div class="col-md-12">
              <label class="form-label">Th·ªÉ lo·∫°i <span class="text-danger">*</span></label>
              <div class="category-checkboxes">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" id="editCat1" value="VƒÉn h·ªçc">
                  <label class="form-check-label" for="editCat1">VƒÉn h·ªçc</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" id="editCat2" value="Kinh t·∫ø">
                  <label class="form-check-label" for="editCat2">Kinh t·∫ø</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" id="editCat3" value="K·ªπ nƒÉng s·ªëng">
                  <label class="form-check-label" for="editCat3">K·ªπ nƒÉng s·ªëng</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" id="editCat4" value="Thi·∫øu nhi">
                  <label class="form-check-label" for="editCat4">Thi·∫øu nhi</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="checkbox" id="editCat5" value="Gi√°o khoa">
                  <label class="form-check-label" for="editCat5">Gi√°o khoa</label>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label">M√£ s·∫£n ph·∫©m</label>
              <input type="text" id="editMa" class="form-control" placeholder="VD: KN001">
            </div>
            <div class="col-md-12">
              <label class="form-label">T√™n s√°ch</label>
              <input type="text" id="editTen" class="form-control" placeholder="Nh·∫≠p t√™n s√°ch">
            </div>
            <div class="col-md-6">
              <label class="form-label">T√°c gi·∫£</label>
              <input type="text" id="editTacGia" class="form-control" placeholder="Nh·∫≠p t√™n t√°c gi·∫£">
            </div>
            <div class="col-md-6">
              <label class="form-label">Nh√† xu·∫•t b·∫£n</label>
              <input type="text" id="editNXB" class="form-control" placeholder="Nh·∫≠p NXB">
            </div>
            <div class="col-md-6">
              <label class="form-label">NƒÉm xu·∫•t b·∫£n</label>
              <input type="text" id="editNam" class="form-control" placeholder="VD: 2024">
            </div>
            <div class="col-md-6">
              <label class="form-label">B√¨a s√°ch</label>
              <input type="file" id="editHinh" class="form-control" accept="image/*">
              <img id="editPreview" style="display:none;" alt="Preview">
            </div>
            <div class="col-md-12">
              <label class="form-label">M√¥ t·∫£</label>
              <textarea id="editMota" class="form-control" rows="3" placeholder="Nh·∫≠p m√¥ t·∫£ s·∫£n ph·∫©m"></textarea>
            </div>
            <div class="col-md-6">
              <label class="form-label">Gi√° b√°n</label>
              <input type="number" id="editGia" class="form-control" placeholder="VD: 85000">
            </div>
            <div class="col-md-6">
              <label class="form-label">Gi√° g·ªëc</label>
              <input type="number" id="editGiagoc" class="form-control" placeholder="VD: 120000">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-modal-save" id="saveEdit">L∆∞u thay ƒë·ªïi</button>
        <button type="button" class="btn-modal-cancel" id="cancelEdit">H·ªßy</button>
      </div>
    </div>
  </div>

  <script>
    // M·ªü modal
    function openEditModal() {
      document.getElementById("editModal").style.display = "block";
    }

    // ƒê√≥ng modal
    function closeEditModal() {
      document.getElementById("editModal").style.display = "none";
    }

    // Khi trang load xong
    document.addEventListener("DOMContentLoaded", function() {
      // Th√™m s·ª± ki·ªán cho t·∫•t c·∫£ n√∫t S·ª≠a
      const editButtons = document.querySelectorAll(".btn-edit");
      editButtons.forEach(button => {
        button.addEventListener("click", openEditModal);
      });

      // ƒê√≥ng modal khi click v√†o d·∫•u X
      document.getElementById("closeModal").addEventListener("click", closeEditModal);

      // ƒê√≥ng modal khi click v√†o n√∫t H·ªßy
      document.getElementById("cancelEdit").addEventListener("click", closeEditModal);

      // ƒê√≥ng modal khi click b√™n ngo√†i
      window.addEventListener("click", function(event) {
        const modal = document.getElementById("editModal");
        if (event.target === modal) {
          closeEditModal();
        }
      });
    });
  </script>
</body>
</html>


